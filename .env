# =============================================================================
# Básico necessário para rodar o sistema atual
# =============================================================================
# DATABASE_URL='postgresql://postgres:postgres@191.252.219.58:5432/postgres?sslmode=disable'
DATABASE_URL='sqlite:///database_test.db'
SECRET_KEY='a-string-secret-at-least-256-bits-long'
TOKEN_ACCESS_EXPIRE_SECONDS=1800
TOKEN_REFRESH_EXPIRE_SECONDS=2592000

# =============================================================================
# Usuário inicial (seed)
# =============================================================================
ROOT_AUTH_USER='admin'
ROOT_AUTH_EMAIL='admin@example.com'
ROOT_AUTH_PASSWORD='stringst'

# =============================================================================
# Logs
# =============================================================================
# Nível de log da API: DEBUG, INFO, WARN, ERROR
# Use DEBUG para ver requisições (método, caminho, status, duração) e eventos como login/refresh/criação de admin
LOG_LEVEL='DEBUG'


# Configuração do SMTP
EMAIL_SERVER_USERNAME="noreply@blockmap.com.br"
EMAIL_SERVER_NAME="blockmap"
EMAIL_SERVER_PASSWORD="8wqqqbbQ_"
EMAIL_SERVER_SMTP_HOST="email-ssl.com.br"
EMAIL_SERVER_SMTP_PORT="465"
EMAIL_SERVER_SMTP_ENCRYPTION="SSL/TLS"

# Remetente explícito (recomendado)
EMAIL_FROM_ADDRESS="noreply@blockmap.com.br"
EMAIL_FROM_NAME="blockmap"

REDIS_URL='redis://191.252.219.58:6379/0'

# =============================================================================
# Segurança (Política de Senha)
# =============================================================================
# true/1/yes para exigir maiúscula, minúscula, número e especial
PASSWORD_POLICY_STRICT=false

# =============================================================================
# Segurança (Rate limit / Lockout) – valores ajustáveis
# =============================================================================
# Login por IP: 20 tentativas a cada 5 minutos
LOGIN_IP_LIMIT=20
LOGIN_IP_WINDOW_MINUTES=5

# Login por usuário: 20 tentativas a cada 5 minutos
LOGIN_USER_LIMIT=20
LOGIN_USER_WINDOW_MINUTES=5

# Lockout por falhas consecutivas de login: 5 falhas bloqueiam por 15 minutos
LOGIN_FAIL_LOCK_THRESHOLD=5
LOGIN_FAIL_LOCK_TTL_MINUTES=15

# Recuperação de senha: IP 10/hora; e-mail 3/15min
RECOVERY_IP_LIMIT=10
RECOVERY_IP_WINDOW_MINUTES=60
RECOVERY_EMAIL_LIMIT=3
RECOVERY_EMAIL_WINDOW_MINUTES=15

# Validade do código de verificação (horas)
VERIFY_CODE_TTL_HOURS=24

# Opcional: base pública para montar links em e‑mails (frontend)
# PUBLIC_BASE_URL="https://seu-dominio.app"

# =============================================================================
# MFA por e-mail (opcional)
# =============================================================================
# Ativa o segundo fator via código enviado por e‑mail após login com senha
MFA_EMAIL_ENABLED=false
# Duração de validade do código (minutos)
MFA_CODE_TTL_MINUTES=10
# Tamanho do código numérico enviado por e‑mail
MFA_CODE_LENGTH=6
# Máximo de tentativas por transação de MFA
MFA_MAX_ATTEMPTS=5

